면접에서 '커널 영역과 유저 영역의 차이'를 물어보는 곳도 있다는 것 같았다.

그래서 찾아보고 공부했다. 그냥 내키는대로 메모하고.. 추후 정리해야겠다.



### 커널 영역과 유저 영역

> 이렇게 커널이 할 수 있는 영역과 일반 응용 프로그램이 할 수 있는 영역이 구분이 되어 있다. 응용 프로그램은 직접적으로 시스템에 도달할 수 없으며, 리눅스 커널에 요청을 하는 방식으로 간접적으로 시스템을 제어할 수 있다.이때 커널이 다루는 영역을 **Kernel space**라고 하고, 일반 응용 프로그램이 다루는 영역을 **User space**라고 한다.커널 스페이스와 유저 스페이스가 나뉘는 가장 큰 이유는 보안상의 문제다. 아무 프로그램이나 시스템자원을 직접 제어할 수 있다면, 심각한 문제가 발생할 수 있기 때문이다. 하드웨어와 프로그램의 중간에 리눅스 커널이 존재함으로써, 시스템 자원을 안전하고 효율적으로 사용할 수 있게 해준다.응용 프로그램은 절대로 시스템에 바로 접근할 수 없다.

joinc처럼 이런 내용들을 가볍게 슥슥 보고 지나갈 수 있는 곳이 맘에 든다.



일반 응용 프로그램이 요청을 해야 시스템 자원을 사용할 수 있는데 이걸 뭐라고 하냐면 시스템콜이라고 한다. 운영체제에게 요청할 수 있도록 만들어진 함수..

생각해보면 안드로이드도 앱 설치를 하면서 필수로 요구하는 것이 있다. 디바이스 시스템의 뭔가를 사용하기 위해 매니페스트에 권한을 선언해주고, 앱 설치 할때 그걸 확인해서 '이 권한을 승인하시겠습니까?'를 물어본다.

이전에 누군가한테 들은 강의를 간단하게 요약하면 'CPU는 한번에 한가지 일(연산)만 할 수 있다. 그래서 여러가지 프로그램들이 CPU를 사용하기 위해서는 줄을 서서 기다려야되는데 얘네한테 스케줄을 정해서 돌리는것이 바로 운영체제다'... 좀 더 디테일하게 들어가면 CPU뿐만 아니라 다른 하드웨어 자원도 운영체제의 도움으로 응용 프로그램들이 사용 할 수 있는데 여튼 이런 도움 없이 응용 프로그램이 다루는 영역은 유저 영역 (User Space)
그럼 커널 영역은? 운영체제 커널이 다루는 영역.. 굳이 나눌 필요가 있나? 보안상의 이유가 가장 크다.



### 리눅스 커널 구조

> - Process
>
> 프로세스는 프로그램의 실행이미지로 프로그래밍된데로 필요한 일을 수행한다. 리눅스 커널은 user space와 kernel space가 분리되어 있다. 그러므로 user space의 프로세스는 직접 하드웨어 자원이나 기타 커널에서 제공하는 (IPC 와 같은) 서비스를 사용할 수없다. 대신 system call을 이용해서 커널에 요청을 할 수 있다.
>
> - system call
>
> 커널에서 제공하는 요청 인터페이스 이다. 프로세스는 시스템 콜을 이용해서 커널에 필요한 작업을 요청할 수 있다.
>
> - kernel
>
> device driver를 이용해서 각종 장치들을 제어하고, 프로세스를 스케쥴링하고 메모리를 관리한다. 또한 프로세스간 통신을 위한 IPC(:12)를 제공한다.
>
> - device driver
>
> 컴퓨터 하드웨어는 다양한 device(장치)들로 구성이 된다. 커널은 이러한 device를 제어해야 한다. 이러한 device 를 제어하는 단위코드를 device driver이라고 한다.